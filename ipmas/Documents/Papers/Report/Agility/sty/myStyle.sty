% file to change the style of LaTeX
% Tony Roberts May 2004
% modified by Carlos Gershenson, 2006

%Possible colors:

% GreenYellow, Yellow, Goldenrod, Dandelion, Apricot, Peach, Melon, YellowOrange, Orange, BurntOrange,
%Bittersweet, RedOrange, Mahogany, Maroon, BrickRed, Red, OrangeRed, RubineRed, WildStrawberry, Salmon,
%CarnationPink, Magenta, VioletRed, Rhodamine, Mulberry, RedViolet, Fuchsia, Lavender, Thistle, Orchid,
%DarkOrchid, Purple, Plum, Violet, RoyalPurple, BlueViolet, Periwinkle, CadetBlue, CornflowerBlue, MidnightBlue,
%NavyBlue, RoyalBlue, Blue, Cerulean, Cyan, ProcessBlue, SkyBlue, Turquoise, TealBlue, Aquamarine, BlueGreen, Emerald,
%JungleGreen, SeaGreen, Green, ForestGreen, PineGreen, LimeGreen, YellowGreen, SpringGreen, OliveGreen, RawSienna,
%Sepia, Brown, Tan, Gray

%MidnightBlue

% first colour for latex or pdflatex
\ifx\pdfoutput\@undefined\usepackage[usenames,dvips]{color}
\else\usepackage[usenames,dvipsnames]{color}
% and fix pdf colour problems
\IfFileExists{pdfcolmk.sty}{\usepackage{pdfcolmk}}{}
\fi
% second test for a5paper
%\ifdim\paperwidth=148mm \usepackage[a5paper]{geometry}\fi
% lastly load colour hyperref

%\usepackage[plainpages=false,pdfpagelabels,pagebackref=true,naturalnames=true]{hyperref}
%\hypersetup{colorlinks=true,
%urlcolor=Cerulean,linkcolor=Black,citecolor=RoyalBlue,a4paper,bookmarksopen=true,pdfpagemode=None,pdfstartview=FitH}


\usepackage[chapter]{tocbibind}
\usepackage[lined,boxed,ruled]{algorithm2e}
\usepackage{verbatim}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{amssymb}

\usepackage{graphicx}
\usepackage{multicol}
\usepackage{psfrag}
\usepackage[hang,center]{subfigure}
\usepackage{url}
\usepackage{stfloats}
\usepackage{array}
\usepackage{colortbl}
\usepackage{color}
\usepackage{moreverb}                    % for boxedboxedverbatim
\usepackage{fancyvrb}
\usepackage{alltt}
\usepackage{setspace}
\usepackage{pstcol}
\usepackage{pst-node}
\usepackage{epstopdf}
\usepackage{subfigure}
\usepackage{hhline}
\usepackage{multirow}
\usepackage{calligra}
\usepackage{palatino}%nicer font
\usepackage{pdflscape}

%\usepackage{ae,aecompl} %For better ps documents
\usepackage[T2A,T1]{fontenc}
\usepackage[utf8]{inputenc}
%\usepackage[latin1]{inputenc}
\inputencoding{latin1}
\inputencoding{utf8}
\usepackage[english]{babel}
\usepackage{setspace}
\usepackage{a4wide}
\usepackage{epsfig}
\usepackage{epstopdf}
%\usepackage{hyperref}
\usepackage{multind}
\usepackage{index}
\newindex{def}{adx}{and}{Subject Index}

\usepackage[withbib]{authorindex}
\let\cite=\aicite
\def\theaipage{\string\hyperpage{\thepage}}


%Light Gray
\definecolor{Light}{cmyk}{0.5,0.42,0.42,0.6}
%\definecolor{ChapNum}{cmyk}{1,0.97,0.39,0.46}
\definecolor{ChapNum}{cmyk}{0,0,0,0.49}
%\definecolor{ChapTitle}{cmyk}{0.98,0.78,0.25,0.09}
\definecolor{ChapTitle}{cmyk}{0,0,0,0.7}
\definecolor{Aphor}{cmyk}{0,0,0,0.7}
%\definecolor{HRuleColor}{cmyk}{0.5,0.42,0.42,0.6}
\definecolor{HRuleColor}{cmyk}{0.0,0.0,0.0,1}
\definecolor{CiteColor}{cmyk}{0,0,0,1}
\definecolor{DefColor}{cmyk}{0,0,0,0.5}
\definecolor{TabColorGray}{cmyk}{0,0,0,0.5}
\definecolor{TabShadow}{cmyk}{0,0,0,0.1}
% Use this package at the end, otherwise it could be overwritten
%\usepackage[urlcolor=OrangeRed,colorlinks=true,plainpages=true,pdfpagelabels,pagebackref=true,naturalnames=true,dvipdfm,citecolor=NavyBlue,linkcolor=OrangeRed]{hyperref}
%\hypersetup{colorlinks=true,urlcolor=OrangeRed,a4paper,bookmarksopen=true,pdfpagemode=None,pdfstartview=FitH}


% BIG character at start of chapter
\definecolor{DropCapColor}{cmyk}{0,0,0,0.24}
\def\DropCap#1{\bigdrop{5pt}{5}{EileenBl}{{\color{Black}{#1}}}}


\newenvironment{liste}%
{ \begin{list}%
    {$\bullet$}%
    {\setlength{\labelwidth}{30pt}%
     \setlength{\leftmargin}{25pt}%
     \setlength{\itemsep}{\parsep}}}%
{ \end{list} }


\renewcommand{\thesubfigure}{\thefigure.\arabic{subfigure}}
\renewcommand{\p@subfigure}{}
\renewcommand{\@thesubfigure}{\thesubfigure:\hskip\subfiglabelskip}




\renewcommand{\theFancyVerbLine}{%
\textcolor{Black}{\scriptsize%
\arabic{FancyVerbLine}.}}

\newcommand\T{\rule{0pt}{2.6ex}}
\newcommand\B{\rule[-1.2ex]{0pt}{0pt}}
\parindent 0pt
\parskip 7pt

\pagestyle{fancy} \headheight=20pt
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{#1}}

\newcommand\etal{~\textit{et al.~}}
\newcommand\apriori{~\textit{a priori}}

\newtheorem{definition}{Definition}

%Definition of the header
\lhead[\fancyplain{}{{\color{Black}\thepage}}]
{\fancyplain{}{{\color{Gray}\leftmark}}}

\chead[\fancyplain{}{}] {\fancyplain{}{}}


\rhead[\fancyplain{}{{\color{Gray}\rightmark}}]
{\fancyplain{}{{\color{Black}\thepage}}}

\lfoot[\fancyplain{}{}] {\fancyplain{}{}}

\rfoot[\fancyplain{}{}] {\fancyplain{}{}}

\cfoot[\fancyplain{}{\thepage}] {\fancyplain{}{\thepage}}


%\let\LaTeXtitle\title
%\renewcommand{\title}[1]{\LaTeXtitle{\color{Brown}\textsf{#1}}}

%\pagestyle{headings}
% crunching MakeUppercase is very naughty
%\renewcommand{\MakeUppercase}[1]{\color{Gray}\textsf{#1}}




%\renewcommand{\abstractname}{\color{blue}Abstract}
%\renewcommand{\figurename}{\color{Sepia}Figure}
%\renewcommand{\tablename}{\color{Sepia}Table}

\let\LaTeX@startsection\@startsection
\renewcommand{\@startsection}[6]{\LaTeX@startsection%
{#1}{#2}{#3}{#4}{#5}{\raggedright #6}}


 %set my own environments...

%\newenvironment{example}[1]{{\textsf{\color{PineGreen}#1}}}{}
%\newenvironment{notion}[1]{{\textsf{\emph{\color{OrangeRed}#1}}}}{}
\newenvironment{aphorism}[1]{\begin{flushright}{\textit{\color{Aphor}#1}}\end{flushright}}{}





\newenvironment{rulecode}
{\begin{list}
    {}
    {\setlength{\leftmargin}{2em}\setlength{\parsep}{0ex}\ttfamily\small}
    \item[]
} {\end{list}}


\newenvironment{mylisting}
{\begin{list}{}{\setlength{\leftmargin}{1em}}\item\small}
{\end{list}}

%%-- mytinylisting
\newenvironment{mytinylisting}
{\begin{list}{}{\setlength{\leftmargin}{1em}}\item\tiny\bfseries}
{\end{list}}

\renewcommand{\fnum@figure}{\small\textbf{\figurename~\thefigure}}
\renewcommand{\fnum@table}{\small\textbf{\tablename~\thetable}}

 %%%from acmtrans2m.cls
\renewcommand{\@makechapterhead}[1]{%
  \vspace*{20\p@}%
  {\parindent \z@ \raggedright \normalfont
    \color{Black} \hrule                                         % horizontal line
    \vspace{5pt}%                                                   % add vertical space
    \ifnum \c@secnumdepth >\m@ne
        \Huge \color{Black} \scshape \@chapapp\space {\color{Black}{\thechapter}}  % Chapter number
        \par\nobreak
        \vskip 20\p@
    \fi
    \interlinepenalty\@M
    \LARGE \color{ChapTitle} \scshape #1\par                         % chapter title
    \vspace{5pt}%                                                    % add vertical space
    \color{Black} \hrule                                          % horizontal rule
    \nobreak
    \vskip 30\p@
  }}

\renewcommand{\@makeschapterhead}[1]{%
  \vspace*{20\p@}%
  {\parindent \z@ \raggedright
    \normalfont
    \color{Black} \hrule                                         % horizontal line
    \vspace{5pt}%                                                   % add vertical space
    \interlinepenalty\@M
    \LARGE \color{ChapTitle} \scshape #1\par                            % chapter title
    \vspace{5pt}%                                                   % add vertical space
    \color{Black} \hrule                                         % horizontal line
    \nobreak
    \vskip 10\p@
  }}

%
%  Parts
%


%\def\@makeparthead#1{ \vspace*{-10pc} {\centering
%\color{OrangeRed} \hrule                                         % horizontal line
%\vspace{5pt}%
% \ifnum \c@secnumdepth >\m@ne \Huge \color{ChapNum}Part \color{ChapNum}\thepart \par
% \vspace{10\p@} \fi
%  \def\baselinestretch{1.0}\LARGE \color{ChapTitle} \scshape #1\par
%  \vspace{5pt}%                                                   % add vertical space
%    \color{OrangeRed} \hrule
% \nobreak \vspace{20\p@}} }
%%
%\def\@makesparthead#1{ \vspace*{2pc} {\centering
% \large\bf \uppercase\color{BrickRed}\expandafter{#1}\par
% \nobreak \vspace{20\p@}} }
%%
%\def\@part[#1]#2{
%  \ifnum \c@secnumdepth >\m@ne
%  \refstepcounter{part}
%  \typeout{<<\thepart>>}
%  {\def\\{ }  % allow \\ in title
%   \addcontentsline{toc}{part}{\protect
%     \numberline{Part\ \thepart:\ \ \ \ }\ \ \ \ \ #1}}\else
%  {\def\\{ }  % allow \\ in title
%   \addcontentsline{toc}{part}{#1}}\fi
% \addtocontents{lof}{\protect\addvspace{5\p@}}
% \addtocontents{lot}{\protect\addvspace{5\p@}}
% \if@twocolumn
%  \@topnewpage[\@makeparthead{#2}]
%  \else \@makeparthead{#2}
%  \@afterheading \fi}
%\def\@spart#1{\if@twocolumn \@topnewpage[\@makesparthead{#1}]
%  \else \@makesparthead{#1}
%  \@afterheading\fi}


\newcommand{\Chapter}[1]{\chapter{#1} \setcounter{section}{0}}
\newcommand{\Part}[1]{\part{#1} \setcounter{chapter}{0}}

%\@part
%\@spart
%for index...
\newcommand{\mainidx}[1]{{\it #1}}
\newcommand{\boldidx}[1]{{\bf #1}}

%to avoid overfull /hboxes
\global\emergencystretch = .17\hsize
%\usepackage{hyperref}

\usepackage[colorlinks=true,citecolor=Black,linkcolor=Black]{hyperref}
