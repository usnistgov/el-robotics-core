<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CRCL FANUC: CAsioCrclServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CRCL FANUC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classCAsioCrclServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CAsioCrclServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> class provides a boost asio server which accepts new connections and starts a <a class="el" href="namespaceCrcl.html">Crcl</a> listener session. The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> class is based on the Boost Asio library which can process network communication asynchronously. Because CRCL data can only be received after a connection has been established, and because a connection can only be established after the name has been resolved, the various asynchronous operations are started in separate callback handlers. Thus in boost asio a callback to async_connect() is then followed by a method call to the handler connect_handler() which starts a new <a class="el" href="namespaceCrcl.html">Crcl</a> session. Readers can read more at: <a href="http://theboostcpplibraries.com/boost.asio-network-programming">http://theboostcpplibraries.com/boost.asio-network-programming</a> The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> is divided into a number of main funcitons (e.g. wait for socket connection, handle new session by spawning new <a class="el" href="classCAsioCrclSession.html" title="The CAsioCrclSession class provides an boost asio session ( which listens for each connected client)...">CAsioCrclSession</a>, repeat. These operations are done asynchronously on a separate thread with notification done by the boost asio io server and it is assumed to be thread-safe. The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> listens for connections on port 64444 and when a connection is initiated starts a new <a class="el" href="namespaceCrcl.html">Crcl</a> session to read xml messages from the devices.  
 <a href="classCAsioCrclServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AsioCrclServer_8h_source.html">AsioCrclServer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac3f58993af64abaa77c957b8017ed740"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#ac3f58993af64abaa77c957b8017ed740">CAsioCrclServer</a> (boost::asio::io_service &amp;io_service)</td></tr>
<tr class="memdesc:ac3f58993af64abaa77c957b8017ed740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for asio crcl server that listens on socket port 64444, and spawns a new session.  <a href="#ac3f58993af64abaa77c957b8017ed740">More...</a><br/></td></tr>
<tr class="separator:ac3f58993af64abaa77c957b8017ed740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16173597e0f5fe3ec192fbf35a48e4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#aa16173597e0f5fe3ec192fbf35a48e4f">server</a> (boost::asio::io_service &amp;io_service, short port)</td></tr>
<tr class="separator:aa16173597e0f5fe3ec192fbf35a48e4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c2aeda8b4d1ba53cfbf630d3c0ed93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#ad1c2aeda8b4d1ba53cfbf630d3c0ed93">HandleAsyncAccept</a> (<a class="el" href="AsioCrclServer_8h.html#a392d769efe4dde887390c7ad3f104c41">session_ptr</a> pSession, const <a class="el" href="AsioCrclServer_8h.html#ae1179d2a354a7cf13df4d8544a33fd4f">boost::system::error_code</a> &amp;error)</td></tr>
<tr class="memdesc:ad1c2aeda8b4d1ba53cfbf630d3c0ed93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles new tcp/ip endpoint connection, and starts session thread.Restarts async accept.  <a href="#ad1c2aeda8b4d1ba53cfbf630d3c0ed93">More...</a><br/></td></tr>
<tr class="separator:ad1c2aeda8b4d1ba53cfbf630d3c0ed93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a9dad1587eabed33505c601ed75ea5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a38a9dad1587eabed33505c601ed75ea5">StartAsyncAccept</a> ()</td></tr>
<tr class="memdesc:a38a9dad1587eabed33505c601ed75ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts asio acceptor to wait for connections.  <a href="#a38a9dad1587eabed33505c601ed75ea5">More...</a><br/></td></tr>
<tr class="separator:a38a9dad1587eabed33505c601ed75ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeccc0924fd65a33af79eccf74642538"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#aeeccc0924fd65a33af79eccf74642538">StopAsyncAccept</a> ()</td></tr>
<tr class="memdesc:aeeccc0924fd65a33af79eccf74642538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop async accept by cancelling asio acceptor.  <a href="#aeeccc0924fd65a33af79eccf74642538">More...</a><br/></td></tr>
<tr class="separator:aeeccc0924fd65a33af79eccf74642538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc7f59bd4811f4ae7cc0ff753ef65707"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#acc7f59bd4811f4ae7cc0ff753ef65707">Init</a> (std::string domain, long portnumber, std::string devicename)</td></tr>
<tr class="memdesc:acc7f59bd4811f4ae7cc0ff753ef65707"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes the server.  <a href="#acc7f59bd4811f4ae7cc0ff753ef65707">More...</a><br/></td></tr>
<tr class="separator:acc7f59bd4811f4ae7cc0ff753ef65707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f5c7c1e7f291c0977ed40c9324b1ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a79f5c7c1e7f291c0977ed40c9324b1ae">Stop</a> (void)</td></tr>
<tr class="memdesc:a79f5c7c1e7f291c0977ed40c9324b1ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop all connection session and future connections.  <a href="#a79f5c7c1e7f291c0977ed40c9324b1ae">More...</a><br/></td></tr>
<tr class="separator:a79f5c7c1e7f291c0977ed40c9324b1ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb80941c7f13b8d23b77804519fc6ea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#abb80941c7f13b8d23b77804519fc6ea1">Start</a> ()</td></tr>
<tr class="memdesc:abb80941c7f13b8d23b77804519fc6ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">start the asynchronous thread to listen for connections.  <a href="#abb80941c7f13b8d23b77804519fc6ea1">More...</a><br/></td></tr>
<tr class="separator:abb80941c7f13b8d23b77804519fc6ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a856ce7cbc3dea93ba07b7b5583de953a"><td class="memItemLeft" align="right" valign="top">boost::asio::io_service &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a856ce7cbc3dea93ba07b7b5583de953a">_io_service</a></td></tr>
<tr class="separator:a856ce7cbc3dea93ba07b7b5583de953a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3683f25664211e9bd73bdfb6dfe68f00"><td class="memItemLeft" align="right" valign="top">tcp::acceptor *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a3683f25664211e9bd73bdfb6dfe68f00">m_pAcceptor</a></td></tr>
<tr class="separator:a3683f25664211e9bd73bdfb6dfe68f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b68e1872f4b8bba8def3e433a2f2f92"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a1b68e1872f4b8bba8def3e433a2f2f92">_bInited</a></td></tr>
<tr class="separator:a1b68e1872f4b8bba8def3e433a2f2f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10b3071051c4889372d0eb30bacc604"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#ab10b3071051c4889372d0eb30bacc604">_portnumber</a></td></tr>
<tr class="separator:ab10b3071051c4889372d0eb30bacc604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6cbb0022e0c2280995faf988ab0425"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#abd6cbb0022e0c2280995faf988ab0425">_domainname</a></td></tr>
<tr class="separator:abd6cbb0022e0c2280995faf988ab0425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d2177e5e78081e8296c1c0409763d2"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a70d2177e5e78081e8296c1c0409763d2">_deviceName</a></td></tr>
<tr class="separator:a70d2177e5e78081e8296c1c0409763d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8981e762f986843227b5df9e256a1614"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a8981e762f986843227b5df9e256a1614">_bLastConnected</a></td></tr>
<tr class="separator:a8981e762f986843227b5df9e256a1614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac570936983b073ee12604164b0e08995"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#ac570936983b073ee12604164b0e08995">_nHeartbeat</a></td></tr>
<tr class="separator:ac570936983b073ee12604164b0e08995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705b81d958ac4521f086761c30a9eda8"><td class="memItemLeft" align="right" valign="top">unsigned int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a705b81d958ac4521f086761c30a9eda8">ErrorMessage</a> )(std::string)</td></tr>
<tr class="separator:a705b81d958ac4521f086761c30a9eda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a2760cb716a58bf1bb3de970e806b7e94"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#a2760cb716a58bf1bb3de970e806b7e94">bRunning</a> = true</td></tr>
<tr class="separator:a2760cb716a58bf1bb3de970e806b7e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5689559a71c457e5b397719d7dd11b6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#ac5689559a71c457e5b397719d7dd11b6">nCount</a> = 0</td></tr>
<tr class="separator:ac5689559a71c457e5b397719d7dd11b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ed42c399a04caf7af7b2c1e7e98d9a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCAsioCrclServer.html#ae2ed42c399a04caf7af7b2c1e7e98d9a">_bTrace</a> = false</td></tr>
<tr class="separator:ae2ed42c399a04caf7af7b2c1e7e98d9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> class provides a boost asio server which accepts new connections and starts a <a class="el" href="namespaceCrcl.html">Crcl</a> listener session. The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> class is based on the Boost Asio library which can process network communication asynchronously. Because CRCL data can only be received after a connection has been established, and because a connection can only be established after the name has been resolved, the various asynchronous operations are started in separate callback handlers. Thus in boost asio a callback to async_connect() is then followed by a method call to the handler connect_handler() which starts a new <a class="el" href="namespaceCrcl.html">Crcl</a> session. Readers can read more at: <a href="http://theboostcpplibraries.com/boost.asio-network-programming">http://theboostcpplibraries.com/boost.asio-network-programming</a> The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> is divided into a number of main funcitons (e.g. wait for socket connection, handle new session by spawning new <a class="el" href="classCAsioCrclSession.html" title="The CAsioCrclSession class provides an boost asio session ( which listens for each connected client)...">CAsioCrclSession</a>, repeat. These operations are done asynchronously on a separate thread with notification done by the boost asio io server and it is assumed to be thread-safe. The <a class="el" href="classCAsioCrclServer.html" title="The CAsioCrclServer class provides a boost asio server which accepts new connections and starts a Crc...">CAsioCrclServer</a> listens for connections on port 64444 and when a connection is initiated starts a new <a class="el" href="namespaceCrcl.html">Crcl</a> session to read xml messages from the devices. </p>
<ul>
<li></li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac3f58993af64abaa77c957b8017ed740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CAsioCrclServer::CAsioCrclServer </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for asio crcl server that listens on socket port 64444, and spawns a new session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_service</td><td>reference tot he asio service providers. only one per program. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad1c2aeda8b4d1ba53cfbf630d3c0ed93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAsioCrclServer::HandleAsyncAccept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AsioCrclServer_8h.html#a392d769efe4dde887390c7ad3f104c41">session_ptr</a>&#160;</td>
          <td class="paramname"><em>pSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="AsioCrclServer_8h.html#ae1179d2a354a7cf13df4d8544a33fd4f">boost::system::error_code</a> &amp;&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles new tcp/ip endpoint connection, and starts session thread.Restarts async accept. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pSession</td><td>is the latest session pointer associated with connection. </td></tr>
    <tr><td class="paramname">error</td><td>is asio error if any. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acc7f59bd4811f4ae7cc0ff753ef65707"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CAsioCrclServer::Init </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>portnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>devicename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>gives the domain name (usually localhost). </td></tr>
    <tr><td class="paramname">portnumber</td><td>is asio socket port number (usually 64444). </td></tr>
    <tr><td class="paramname">devicename</td><td>is the name of the device running this server. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa16173597e0f5fe3ec192fbf35a48e4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAsioCrclServer::server </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>brief Creates acceptor for tcp/ip endpoint, and starts async accept. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_service</td><td>is asio service. </td></tr>
    <tr><td class="paramname">port</td><td>is tcp port to listen for connections on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abb80941c7f13b8d23b77804519fc6ea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAsioCrclServer::Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start the asynchronous thread to listen for connections. </p>

</div>
</div>
<a class="anchor" id="a38a9dad1587eabed33505c601ed75ea5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAsioCrclServer::StartAsyncAccept </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts asio acceptor to wait for connections. </p>

</div>
</div>
<a class="anchor" id="a79f5c7c1e7f291c0977ed40c9324b1ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CAsioCrclServer::Stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop all connection session and future connections. </p>
<dl class="section return"><dt>Returns</dt><dd>error or ok. </dd></dl>

</div>
</div>
<a class="anchor" id="aeeccc0924fd65a33af79eccf74642538"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CAsioCrclServer::StopAsyncAccept </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop async accept by cancelling asio acceptor. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a1b68e1872f4b8bba8def3e433a2f2f92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CAsioCrclServer::_bInited</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>server initialized flag </p>

</div>
</div>
<a class="anchor" id="a8981e762f986843227b5df9e256a1614"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CAsioCrclServer::_bLastConnected</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae2ed42c399a04caf7af7b2c1e7e98d9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CAsioCrclServer::_bTrace = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>trace input messages </p>

</div>
</div>
<a class="anchor" id="a70d2177e5e78081e8296c1c0409763d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CAsioCrclServer::_deviceName</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>copy of device name </p>

</div>
</div>
<a class="anchor" id="abd6cbb0022e0c2280995faf988ab0425"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CAsioCrclServer::_domainname</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>copy of domain name </p>

</div>
</div>
<a class="anchor" id="a856ce7cbc3dea93ba07b7b5583de953a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::io_service&amp; CAsioCrclServer::_io_service</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>reference to asio io server to be passed to each session </p>

</div>
</div>
<a class="anchor" id="ac570936983b073ee12604164b0e08995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CAsioCrclServer::_nHeartbeat</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>heartbeat incremented to show server alive </p>

</div>
</div>
<a class="anchor" id="ab10b3071051c4889372d0eb30bacc604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CAsioCrclServer::_portnumber</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>copy of socket port number to listen to </p>

</div>
</div>
<a class="anchor" id="a2760cb716a58bf1bb3de970e806b7e94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CAsioCrclServer::bRunning = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>boolean that all sessions monitor for termination </p>

</div>
</div>
<a class="anchor" id="a705b81d958ac4521f086761c30a9eda8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int( * CAsioCrclServer::ErrorMessage)(std::string)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3683f25664211e9bd73bdfb6dfe68f00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tcp::acceptor* CAsioCrclServer::m_pAcceptor</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to asio acceptor </p>

</div>
</div>
<a class="anchor" id="ac5689559a71c457e5b397719d7dd11b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CAsioCrclServer::nCount = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>count of active sessions </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/usr/local/michalos/github/usnistgov/el-robotics-core/nist_fanuc/include/nist_fanuc/<a class="el" href="AsioCrclServer_8h_source.html">AsioCrclServer.h</a></li>
<li>/usr/local/michalos/github/usnistgov/el-robotics-core/nist_fanuc/src/<a class="el" href="AsioCrclServer_8cpp.html">AsioCrclServer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 15 2016 14:48:00 for CRCL FANUC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
